*-----------------------------------------------------------
* Title  	:Lab 4
* Written by :Bryson O'Neill & Domenico Galati
* Date   	:2/15/18
* Description:
*-----------------------------------------------------------
	ORG $F50
UI  DC.B 'Enter number to find: ',0CO  DC.B 'Your number was found at index: ',0
	
	ORG $FA0
	DC.B 1,2,8,11,13,15,18,27,29,31,36,42,47,52,59,62,73,85,93,116 ;RANGES IN MEMORY FROM $FA0 TO FB4
	ORG $1000
START:              			; first instruction of program
	MOVE.B #18,D0 		;TELLS TRAP TO PRINT THE STRING THEN TAKE USER INPUT
	LEA UI,A1 		;DECLARES WHICH STRING TO PRINT
	TRAP #15 		;ACTIVATES TRAP
	TST D1 			;CHECKS IF USER INPUT IS EQUAL TO 0
BEQ ZERO 		;IF USER ENTERS 0, THE PROGRAM WILL END
	MOVE.B D1,D4 		;MOVES USER INPUT INTO D4 AS PER THE LAB MANUAL INSTRUCTIONS
LINK A7,#-4 		;CREATES A STACK OF SIZE FOUR FOR THE LOWEST ADDRESS AND 
			 HIGHEST ADDRESS ON THE LIST OF NUMBERS
	MOVE.W #$FA0,A2 	;MOVES LOWEST ADDRESS INTO A2
	MOVE.W #$FB4,A3 	;MOVES HIGHEST ADDRESS INTO A3
	MOVE.W A3,(A7) 		; PUSH THE HIGHEST ADDRESS ONTO THE STACK
	MOVE.W A2,2(A7) 		; PUSH THE LOWEST ADDRESS ONTO THE STACK
	MOVE.W (A7)+,D3		;MOVES HIGHEST ADDRESS INTO D3
	MOVE.W (A7)+,D2 		;MOVES THE LOWEST ADDRESS INTO D2
SEARCH 			;SEARCH IS THE NAME OF THE LOOP THAT SPLITS THE SEARCH 
			 LIST INTO HALF BY FINDING WHICH HALF OF THE LIST THE NUMBER IS
			 ON
	MOVE.W D3, D5 		;NOW MOVES THE HIGHEST ADDRESS INTO D5
	SUB.W D2,D3 		;SUBTRACTS THE HIGH ADDRESS IN D3 FROM THE LOW ADDRESS IN D2 
				 TO FIND THE DIFFERENCE OF NUMBERS IN THE LIST
	ASR #1,D3		 ;DIVIDES THE LIST IN HALF
	ADD.W D2,D3 		;ADDS THE LOWEST ADDRESS IN THE SEARCH PARAMETER TO THE 
				 PREVIOUSLY CALCULATED NUMBER GIVING THE “MIDDLE” LIST NUMBER
	MOVE.W D3,A4 		;MOVES THE NEW MIDDLE ADDRESS INTO A4 
	CMP.B (A4),D4 		;COMPARES THE ADDRESS THAT A4 REFERENCES WITH D4
	BEQ DONE 		;IF USER INPUT EQUALS NUMBER IN LIST, MOVE TO DONE
	BGT UP 			;IF USER INPUT IS MORE THAN THE MIDDLE OF THE LIST, GO TO UP
	BLT DOWN 		;IF USER INPUT IS LESS THAN THE MIDDLE OF THE LIST, GO TO DOWN
UP
	MOVE.W D3,D2 		;MOVE THE MIDDLE ADDRESS INTO D2 TO REPRESENT THE NEW LOWER 
				 SEARCH BOUND
	MOVE.W D5,D3 		;MOVES THE HIGHEST INTO THE MIDDLE ADDRESS
	JSR SEARCH 		;WILL CHECK THE NEXT PLACE IN THE LIST
DOWN
	NOP 			;NO OPERATION
	JSR SEARCH 		;WILL CHECK THE NEXT PLACE IN THE LIST
DONE
	MOVE.B #14,D0 		;TELLS TRAP TO PRINT THE STRING THEN TAKE USER INPUT
	LEA CO,A1 		;DECLARES WHICH STRING TO PRINT
	TRAP #15 		;ACTIVATES TRAP
	MOVE.B #3,D0 		;TELLS TRAP TO PRINT THE STRING THEN TAKE USER INPUT
	MOVE.W  A4,D1 		;MOVES THE MIDDLE ADDRESS INTO D1
	SUB.W #$F9F,D1 		;SUBTRACTS THE LOWER ADDRESS FROM THE INDEXED ADDRESS TO
				GET AN INDEX FROM 1-20
	TRAP #15 		;ACTIVATES TRAP ;OUTPUTS INDEX AT WHICH NUMBER WAS FOUND
	JSR START 		;RESTARTS PROGRAM
ZERO 				;BRACH FOR EXIT WHEN USER ENTERS 0
	END $1000
